(function(t){function e(e){for(var n,i,c=e[0],s=e[1],r=e[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&m.push(l[i][0]),l[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,r||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,i=1;i<o.length;i++){var s=o[i];0!==l[s]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},l={app:0},a=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"dda534f6","chunk-2d216257":"69e90091","chunk-7298eda6":"6c6e86ac"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o=l[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,n){o=l[t]=[e,n]}));e.push(o[2]=n);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(t);var r=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(d);var o=l[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",r.name="ChunkLoadError",r.type=n,r.request=a,o[1](r)}l[t]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=r;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("7a23");const l=Object(n["e"])('<header class="navbar bg-gray"><section class="navbar-section"><a href="https://griselbrand.com" class="navbar-brand text-bold mr-2">GRISELBRAND.COM</a><a href="https://proxy.griselbrand.com" class="btn btn-link">Proxy</a><a href="https://decklist.griselbrand.com" class="btn btn-link">Decklist</a></section><section class="navbar-section hide-sm"><a href="https://twitter.com/haganbmj" target="_blank" class="btn ml-1">Twitter</a><a href="https://github.com/haganbmj/decklist" target="_blank" class="btn btn-primary ml-1">GitHub</a></section></header>',1),a={id:"content",class:"container"};function i(t,e,o,i,c,s){const r=Object(n["i"])("MainPage");return Object(n["h"])(),Object(n["c"])(n["a"],null,[l,Object(n["d"])("div",a,[Object(n["g"])(r)])],64)}const c={class:"section"},s={class:"columns"},r={class:"column col-6 col-sm-12"},d={class:"form-group form-horizontal"},u=Object(n["d"])("h4",null,"Personal Information",-1),m={class:"form-group"},b=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"first-name"},"First Name",-1),p={class:"form-group"},f=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"last-name"},"Last Name",-1),h={class:"form-group form-horizontal"},g=Object(n["d"])("h4",null,"Event Information",-1),v={class:"form-group"},O=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"event-name"},"Event Name",-1),j={class:"form-group"},S=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"event-location"},"Event Location",-1),x={class:"form-group"},F=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"event-date"},"Event Date",-1),k={class:"form-group form-horizontal"},y=Object(n["d"])("h4",null,"Deck Information",-1),N={class:"form-group"},z=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"deck-name"},"Deck Name",-1),D={class:"form-group"},w=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"deck-designer"},"Deck Designer",-1),C={class:"form-group form-horizontal"},L=Object(n["d"])("h4",null,[Object(n["f"])("Main Deck "),Object(n["d"])("span",{class:"icon-info tooltip","data-tooltip":"Use 0 for empty quantity."})],-1),E={class:"form-group"},T=Object(n["d"])("h4",null,"Sideboard",-1),U={class:"form-group"},P={class:"column col-6 col-sm-12"},M={class:"form-group form-horizontal"},B=Object(n["d"])("h4",null,"Configuration",-1),R={class:"form-group"},V=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"game-select"},"Game",-1),q={class:"col-9 col-sm-12"},I=Object(n["d"])("option",{value:"magic"},"Magic: The Gathering",-1),A=Object(n["d"])("option",{value:"lorcana"},"Lorcana",-1),G=[I,A],_={class:"form-group"},W=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"style-select"},"Style",-1),J={class:"col-9 col-sm-12"},H=Object(n["d"])("option",{value:"wotc"},"Wizards of the Coast",-1),Y=[H],$={class:"form-group"},K=Object(n["d"])("label",{class:"form-label col-3 col-sm-12",for:"style-select"},"Sorting",-1),Q={class:"col-9 col-sm-12"},X=Object(n["d"])("option",{value:"unsorted"},"Unsorted",-1),Z=Object(n["d"])("option",{value:"alphabetical"},"Alphabetical",-1),tt=[X,Z],et={class:"form-group btn-group btn-group-block"},ot=Object(n["d"])("span",{class:"icon-floppy-disk"},null,-1),nt=Object(n["d"])("span",{class:"icon-printer"},null,-1),lt=["src"],at=Object(n["d"])("div",{class:"column col-12 pt-2 pb-2"},[Object(n["d"])("div",{class:"divider"})],-1),it={class:"column col-12"},ct={class:"text-muted text-small text-center"},st=["href"];function rt(t,e,o,l,a,i){return Object(n["h"])(),Object(n["c"])("div",c,[Object(n["d"])("div",s,[Object(n["d"])("div",r,[Object(n["d"])("form",d,[u,Object(n["d"])("div",m,[b,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"first-name",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.input.firstName=t),placeholder:"First Name",autofocus:""},null,512),[[n["l"],a.input.firstName]])]),Object(n["d"])("div",p,[f,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"last-name",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.input.lastName=t),placeholder:"Last Name"},null,512),[[n["l"],a.input.lastName]])])]),Object(n["d"])("form",h,[g,Object(n["d"])("div",v,[O,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"event-name",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.input.eventName=t),placeholder:"Event Name"},null,512),[[n["l"],a.input.eventName]])]),Object(n["d"])("div",j,[S,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"event-location",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>a.input.eventLocation=t),placeholder:"Event Location"},null,512),[[n["l"],a.input.eventLocation]])]),Object(n["d"])("div",x,[F,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"event-date",type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>a.input.eventDate=t),placeholder:"Event Date"},null,512),[[n["l"],a.input.eventDate]])])]),Object(n["d"])("form",k,[y,Object(n["d"])("div",N,[z,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"deck-name",type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>a.input.deckName=t),placeholder:"Deck Name"},null,512),[[n["l"],a.input.deckName]])]),Object(n["d"])("div",D,[w,Object(n["m"])(Object(n["d"])("input",{class:"form-input col-9 col-sm-12",id:"deck-designer",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>a.input.deckDesigner=t),placeholder:"Deck Designer"},null,512),[[n["l"],a.input.deckDesigner]])])]),Object(n["d"])("form",C,[L,Object(n["d"])("div",E,[Object(n["m"])(Object(n["d"])("textarea",{class:"form-input",id:"deck-input",rows:"7","onUpdate:modelValue":e[7]||(e[7]=t=>a.input.decklist=t),placeholder:"4 Wild Nacatl\n0x Griselbrand\n3x Price of Progress\n4 Strip Mine (ATQ) 82d\n2 Tinker Bell - Giant Fairy\n4 Rafiki - Mysterious Sage"},null,512),[[n["l"],a.input.decklist]])]),T,Object(n["d"])("div",U,[Object(n["m"])(Object(n["d"])("textarea",{class:"form-input",id:"deck-input",rows:"7","onUpdate:modelValue":e[8]||(e[8]=t=>a.input.sideboard=t),placeholder:"// Sideboard\nOrim's Chant\n3x Rough // Tumble\nSB: dead/gone"},null,512),[[n["l"],a.input.sideboard]])])])]),Object(n["d"])("div",P,[Object(n["d"])("form",M,[B,Object(n["d"])("div",R,[V,Object(n["d"])("div",q,[Object(n["m"])(Object(n["d"])("select",{class:"form-select select",id:"game-select","onUpdate:modelValue":e[9]||(e[9]=t=>a.config.game=t),style:{width:"100%"}},G,512),[[n["k"],a.config.game]])])]),Object(n["d"])("div",_,[W,Object(n["d"])("div",J,[Object(n["m"])(Object(n["d"])("select",{class:"form-select select",id:"style-select","onUpdate:modelValue":e[10]||(e[10]=t=>a.config.style=t),style:{width:"100%"}},Y,512),[[n["k"],a.config.style]])])]),Object(n["d"])("div",$,[K,Object(n["d"])("div",Q,[Object(n["m"])(Object(n["d"])("select",{class:"form-select select",id:"sorting-select","onUpdate:modelValue":e[11]||(e[11]=t=>a.config.sorting=t),style:{width:"100%"}},tt,512),[[n["k"],a.config.sorting]])])])]),Object(n["d"])("form",et,[Object(n["d"])("button",{id:"save",class:"btn btn-block",type:"button",onClick:e[12]||(e[12]=t=>i.save())},[ot,Object(n["f"])(" Save")]),Object(n["d"])("button",{id:"print",class:"btn btn-primary",type:"button",onClick:e[13]||(e[13]=t=>i.print())},[nt,Object(n["f"])(" Print")])]),Object(n["d"])("iframe",{id:"decklist-preview",src:i.preview,style:{width:"100%",height:"580px"}},null,8,lt)]),at,Object(n["d"])("div",it,[Object(n["d"])("div",ct,[Object(n["d"])("p",null,[Object(n["f"])("Last built at "+Object(n["j"])(i.getBuildTimestamp())+" from ",1),Object(n["d"])("a",{href:"https://github.com/haganbmj/decklist/commit/"+i.getBuildSha(),target:"_blank"},Object(n["j"])(i.getBuildSha()),9,st),Object(n["f"])(".")])])])])])}o("14d9");var dt=o("f7fe"),ut=o.n(dt),mt=(o("13d5"),o("8baf"));function bt(t){let e={mainboard:[],sideboard:[],errors:[]},o=e.mainboard;for(let n of t.split("\n")){if(n=n.trim(),(/Sideboard/i.test(n)||/^SB:/i.test(n))&&(o=e.sideboard),/Sideboard/i.test(n)||/^\/\//.test(n))continue;if(""===n){o.push({quantity:0,name:""});continue}let t=/^(?:SB:\s)?(?:(\d+)?x?\s)?([^(]+)(?:\s\(.+\) .+)?$/i.exec(n);if(null===t){e.errors.push(n),console.warn("Failed to parse line: "+n);continue}let[,l,a]=t;void 0===l&&(l=1),o.push({quantity:parseInt(l),name:a.trim()})}return e}function pt(t,e){const o=new mt["a"]({orientation:"portrait",unit:"pt",format:"letter"}),{mainboard:n,sideboard:l}=bt(t.decklist);return ft(o),ht(o,n,l),gt(o,t.firstName,t.lastName,t.eventName,t.eventLocation,t.eventDate,t.deckName,t.deckDesigner),o}function ft(t){t.setLineWidth(1),t.setFillColor(230,230,232),t.rect(135,54,441,24),t.rect(135,78,441,24),t.rect(355,54,221,72),t.rect(552,30,24,24,"FD"),t.rect(445,30,55,24),t.rect(27,140,24,628,"FD"),t.rect(27,140,24,349,"FD"),t.rect(250,748,56,22),t.rect(524,694,56,22),t.rect(320,722,260,48),t.setLineWidth(.5),t.rect(135,54,54,48),t.rect(355,54,54,72),t.rect(320,722,130,48),t.rect(320,722,260,12),t.rect(320,734,260,12),t.rect(320,746,260,12)}function ht(t,e,o){let n=e.reduce((t,e)=>t+e["quantity"],0),l=o.reduce((t,e)=>t+e["quantity"],0);t.setLineWidth(.5);for(let a=186;a<750;a+=18)t.line(62,a,106,a),t.line(116,a,306,a);for(let a=186;a<386;a+=18)t.line(336,a,380,a),t.line(390,a,580,a);for(let a=438;a<696;a+=18)t.line(336,a,380,a),t.line(390,a,580,a);t.setFont("times","bold"),t.setFontSize(13),t.text("Main Deck:",62,149),t.setFontSize(11),t.text("# in deck:",62,166),t.text("Card Name:",122,166),t.setFont("times","bold"),t.setFontSize(13),t.text("Main Deck Continued:",336,149),t.setFontSize(11),t.text("# in deck:",336,166),t.text("Card Name:",396,166),t.setFont("times","bold"),t.setFontSize(13),t.text("Sideboard:",336,404),t.setFontSize(11),t.text("# in deck:",336,420),t.text("Card Name:",396,420);for(let a=0,i=84,c=182;a<2;a++){t.setFont("helvetica","normal"),t.setFontSize(12);for(let o=0,n=o+32*a;o<32&&n<44&&n<e.length;o++,n++,c+=18){let o=e[n];0!==o["quantity"]&&t.text(o["quantity"].toString(),i,c,"center"),t.text(o["name"],i+38,c)}i=358,c=182}t.setFont("helvetica","normal"),t.setFontSize(12);for(let a=0,i=356,c=434;a<15&&a<o.length;a++,c+=18){let e=o[a];0!==e["quantity"]&&t.text(e["quantity"].toString(),i,c,"center"),t.text(e["name"],i+38,c)}t.setFont("times","bold"),t.setFontSize(11),t.text("Total Number of Cards in Main Deck:",62,768),t.setFont("helvetica","normal"),t.setFontSize(20),0!==n&&t.text(String(n),278,766,null,null,"center"),t.setFont("times","bold"),t.setFontSize(11),t.text("Total Number of Cards in Sideboard:",336,714),t.setFont("helvetica","normal"),t.setFontSize(20),0!==l&&t.text(String(l),552,712,null,null,"center")}function gt(t,e,o,n,l,a,i,c){if(t.setFontSize(15),t.setFont("times","bold"),t.text("DECK REGISTRATION SHEET",135,45),t.setFont("times","normal"),t.setFontSize(7),t.text("Table",421,40),t.text("Number",417,48),t.text("First Letter of",508,40),t.text("Last Name",516,48),o.length>0){const e=(""+o[0]).toUpperCase();t.setFont("helvetica","bold"),t.setFontSize(20),t.text(e,564,49,null,null,"center")}t.setFont("times","normal"),t.setFontSize(7),t.text("Date:",169,68),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(a,192,69.5),t.setFont("times","normal"),t.setFontSize(7),t.text("Event:",387,68),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(n,412,69.5),t.setFont("times","normal"),t.setFontSize(7),t.text("Location:",158,92),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(l,192,93.5),t.setFont("times","normal"),t.setFontSize(7),t.text("Deck Name:",370,92),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(i,412,93.5),t.setFont("times","normal"),t.setFontSize(7),t.text("Deck Designer:",362,116),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(c,412,117.5),t.setFont("times","bold"),t.setFontSize(13),t.text("PRINT CLEARLY USING ENGLISH CARD NAMES",36,121),t.setFont("times","normal"),t.setFontSize(7),t.text("Last Name:",41,760,90),t.setFont("helvetica","bold"),t.setFontSize(11),t.text(o,43,724,90),t.setFont("times","normal"),t.setFontSize(7),t.text("First Name:",41,481,90),t.setFont("helvetica","bold"),t.setFontSize(11),t.text(e,43,444,90),t.setFont("times","bold"),t.setFontSize(5),t.text("FOR OFFICAL USE ONLY",324,730),t.setFont("times","normal"),t.setFontSize(6),t.text("Deck Check Rd #:",324,742),t.text("Status:",324,754),t.text("Judge:",324,766),t.text("Main/SB:",454,730),t.text("/",520,730),t.text("Deck Check Rd #:",454,742),t.text("Status:",454,754),t.text("Judge:",454,766)}var vt={name:"MainPage",components:{},data(){return{config:{game:"",style:"",sorting:""},input:{firstName:"",lastName:"",eventName:"",eventLocation:"",eventDate:"",deckName:"",deckDesigner:"",decklist:"",sideboard:""},cards:[],errors:[],doc:void 0}},computed:{preview:function(){var t;return null===(t=this.doc)||void 0===t?void 0:t.output("dataurlstring")}},mounted(){this.loadConfig(),this.debouncedUpdateDoc=ut()(this.updateDoc,500)},watch:{input:{handler(){this.debouncedUpdateDoc()},deep:!0}},methods:{storeConfig(){localStorage.game=this.config.game,localStorage.style=this.config.style,localStorage.sorting=this.config.sorting,localStorage.firstName=this.input.firstName,localStorage.lastName=this.input.lastName},loadConfig(){var t,e,o,n,l;this.config.game=null!==(t=localStorage.game)&&void 0!==t?t:"magic",this.config.style=null!==(e=localStorage.style)&&void 0!==e?e:"wotc",this.config.sorting=null!==(o=localStorage.sorting)&&void 0!==o?o:"unsorted",this.input.firstName=null!==(n=localStorage.firstName)&&void 0!==n?n:"",this.input.lastName=null!==(l=localStorage.lastName)&&void 0!==l?l:""},updateDoc(){this.doc=pt(this.input,this.config)},save(){this.doc.save("decklist.pdf")},print(){this.storeConfig()},async parseCardList(){let t=[];for(let e of this.input.decklist.split("\n")){if(e=e.trim(),/Sideboard/i.test(e)||/^\/\//.test(e)||""===e)continue;let o=/^(?:SB:\s)?(?:(\d+)?x?\s)?([^(]+)(?:\s\(.+\) .+)?$/i.exec(e);if(null===o){this.errors.push(e),console.warn("Failed to parse line: "+e);continue}let[,n,l]=o;void 0===n&&(n=1),t.push({quantity:"0"===n?"":n,name:l.trim()})}this.cards=t},getBuildTimestamp(){return document.documentElement.dataset.buildTimestamp},getBuildSha(){return document.documentElement.dataset.buildSha||"local"}}},Ot=o("6b0d"),jt=o.n(Ot);const St=jt()(vt,[["render",rt]]);var xt=St,Ft={name:"App",components:{MainPage:xt}};o("a140");const kt=jt()(Ft,[["render",i]]);var yt=kt;o("bc12"),o("8966");Object(n["b"])(yt).mount("#app")},a140:function(t,e,o){"use strict";o("c8b8")},c8b8:function(t,e,o){}});
//# sourceMappingURL=app.df38f746.js.map